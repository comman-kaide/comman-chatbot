# æ ªå¼ä¼šç¤¾ã‚«ãƒ³ãƒãƒ³ ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ 

Claude APIã¨RAG(Retrieval-Augmented Generation)ã‚’æ´»ç”¨ã—ãŸã€Webã‚µã‚¤ãƒˆåŸ‹ã‚è¾¼ã¿å‹ã®ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
- [ä¸»ãªæ©Ÿèƒ½](#ä¸»ãªæ©Ÿèƒ½)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ)
- [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †)
- [ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †](#ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

æ ªå¼ä¼šç¤¾ã‚«ãƒ³ãƒãƒ³ã®ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«è¨­ç½®ã™ã‚‹ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚è¨ªå•è€…ã®è³ªå•ã«å¯¾ã—ã¦ã€FAQãƒ‡ãƒ¼ã‚¿ã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å…ƒã«Claude AIãŒè‡ªå‹•å›ç­”ã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

âœ… **Webã‚µã‚¤ãƒˆåŸ‹ã‚è¾¼ã¿å‹ãƒãƒ£ãƒƒãƒˆã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ**
- ãƒ¢ãƒ€ãƒ³ã§ä½¿ã„ã‚„ã™ã„ãƒãƒ£ãƒƒãƒˆUI
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³å¯¾å¿œ
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ã«ã‚ˆã‚‹ä¼šè©±å±¥æ­´ä¿æŒ

âœ… **Claude APIé€£æº**
- Claude 3.5 Sonnetã«ã‚ˆã‚‹é«˜å“è³ªãªå›ç­”ç”Ÿæˆ
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’è€ƒæ…®ã—ãŸè‡ªç„¶ãªå¯¾è©±

âœ… **RAG (æ¤œç´¢æ‹¡å¼µç”Ÿæˆ)**
- ChromaDBã«ã‚ˆã‚‹ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢
- FAQã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰ã®é–¢é€£æƒ…å ±å–å¾—
- é«˜ç²¾åº¦ãªå›ç­”ç”Ÿæˆ

âœ… **ç®¡ç†ç”»é¢**
- FAQç®¡ç† (ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤)
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†
- ãƒãƒ£ãƒƒãƒˆå±¥æ­´é–²è¦§
- èªè¨¼æ©Ÿèƒ½ä»˜ã

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Python 3.10+**
- **FastAPI** - é«˜é€ŸãªWeb APIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Claude API (Anthropic)** - AIè¨€èªãƒ¢ãƒ‡ãƒ«
- **ChromaDB** - ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **PostgreSQL** - ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- **SQLAlchemy** - ORM

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **React 18** with TypeScript
- **Axios** - HTTP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- **Webpack** - ãƒãƒ³ãƒ‰ãƒ©ãƒ¼

### ç®¡ç†ç”»é¢
- **React 18** with TypeScript
- **React Router** - ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **Tailwind CSS** - CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **Vite** - ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
comman-chatbot/
â”œâ”€â”€ backend/              # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py      # FastAPIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ database.py  # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â”œâ”€â”€ chatbot.py   # ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ rag.py       # RAGã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ auth.py      # èªè¨¼æ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ schemas.py   # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ .env.example
â”‚
â”œâ”€â”€ frontend/            # ãƒãƒ£ãƒƒãƒˆã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ ChatWidget.tsx
â”‚   â”‚   â”œâ”€â”€ ChatWidget.css
â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ webpack.config.js
â”‚
â”œâ”€â”€ admin/              # ç®¡ç†ç”»é¢
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FAQManagement.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentManagement.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ChatHistory.tsx
â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ embed-code.html     # ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸åŸ‹ã‚è¾¼ã¿ç”¨ã‚³ãƒ¼ãƒ‰
â””â”€â”€ README.md          # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### 1. å‰ææ¡ä»¶

- Python 3.10ä»¥ä¸Š
- Node.js 18ä»¥ä¸Š
- PostgreSQL 13ä»¥ä¸Š
- Anthropic API ã‚­ãƒ¼

### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd backend

# ä»®æƒ³ç’°å¢ƒã®ä½œæˆã¨æœ‰åŠ¹åŒ–
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt --break-system-packages

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
cp .env.example .env
# .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ä»¥ä¸‹ã‚’è¨­å®š:
# - ANTHROPIC_API_KEY: Anthropic APIã‚­ãƒ¼
# - DATABASE_URL: PostgreSQLã®æ¥ç¶šURL
# - SECRET_KEY: JWTç”¨ã®ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
# PostgreSQLã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆ
createdb comman_chatbot

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰(ãƒãƒ£ãƒƒãƒˆã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ)ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd frontend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev

# æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰
npm run build
# dist/chatbot-widget.js ãŒç”Ÿæˆã•ã‚Œã¾ã™
```

### 4. ç®¡ç†ç”»é¢ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
cd admin

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
# .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ:
echo "VITE_API_URL=http://localhost:8000" > .env

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev

# æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰
npm run build
```

### 5. åˆæœŸç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ

Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆã§åˆæœŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ:

```python
# create_admin.py
from app.database import SessionLocal, User
from app.auth import get_password_hash

db = SessionLocal()
admin_user = User(
    username="admin",
    email="admin@comman.co.jp",
    hashed_password=get_password_hash("your_secure_password"),
    is_admin=True,
    is_active=True
)
db.add(admin_user)
db.commit()
print("ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆã—ã¾ã—ãŸ")
```

å®Ÿè¡Œ:
```bash
cd backend
python create_admin.py
```

## ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ãƒ—ãƒ­ã‚¤ (Dockerä½¿ç”¨)

1. **Dockerfileã®ä½œæˆ** (backend/Dockerfile)

```dockerfile
FROM python:3.10-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

2. **Docker Composeã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤**

```yaml
# docker-compose.yml
version: '3.8'

services:
  db:
    image: postgres:13
    environment:
      POSTGRES_DB: comman_chatbot
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: your_password
    volumes:
      - postgres_data:/var/lib/postgresql/data

  backend:
    build: ./backend
    ports:
      - "8000:8000"
    environment:
      DATABASE_URL: postgresql://postgres:your_password@db:5432/comman_chatbot
      ANTHROPIC_API_KEY: your_api_key
      SECRET_KEY: your_secret_key
    depends_on:
      - db

volumes:
  postgres_data:
```

èµ·å‹•:
```bash
docker-compose up -d
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒ‡ãƒ—ãƒ­ã‚¤

1. ãƒ“ãƒ«ãƒ‰:
```bash
cd frontend
npm run build
```

2. `dist/chatbot-widget.js` ã‚’CDNã¾ãŸã¯Webã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

3. ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã«åŸ‹ã‚è¾¼ã¿:
```html
<script
  src="https://your-cdn.com/chatbot-widget.js"
  data-comman-chatbot
  data-api-url="https://api.comman.co.jp"
  async
></script>
```

### ç®¡ç†ç”»é¢ã®ãƒ‡ãƒ—ãƒ­ã‚¤

1. ãƒ“ãƒ«ãƒ‰:
```bash
cd admin
npm run build
```

2. `dist/` ãƒ•ã‚©ãƒ«ãƒ€ã®å†…å®¹ã‚’Webã‚µãƒ¼ãƒãƒ¼ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

## ä½¿ç”¨æ–¹æ³•

### ç®¡ç†ç”»é¢ã®ä½¿ã„æ–¹

1. **ãƒ­ã‚°ã‚¤ãƒ³**
   - `https://your-domain.com/admin` ã«ã‚¢ã‚¯ã‚»ã‚¹
   - ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³

2. **FAQè¿½åŠ **
   - ã€ŒFAQç®¡ç†ã€ãƒšãƒ¼ã‚¸ã‚’é–‹ã
   - ã€Œ+ FAQè¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - è³ªå•ã€å›ç­”ã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›
   - ã€Œä¿å­˜ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

3. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ **
   - ã€Œãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã€ãƒšãƒ¼ã‚¸ã‚’é–‹ã
   - ã€Œ+ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã‚¿ã‚¤ãƒˆãƒ«ã¨å†…å®¹ã‚’å…¥åŠ›
   - ã€Œä¿å­˜ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

4. **ãƒãƒ£ãƒƒãƒˆå±¥æ­´ç¢ºèª**
   - ã€Œãƒãƒ£ãƒƒãƒˆå±¥æ­´ã€ãƒšãƒ¼ã‚¸ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±ã‚’ç¢ºèª

### ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¸ã®åŸ‹ã‚è¾¼ã¿

`embed-code.html` ã®ã‚³ãƒ¼ãƒ‰ã‚’Webã‚µã‚¤ãƒˆã® `</body>` ã‚¿ã‚°ã®ç›´å‰ã«è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### å…¬é–‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

- `POST /api/chat` - ãƒãƒ£ãƒƒãƒˆé€ä¿¡

### ç®¡ç†è€…ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ (èªè¨¼å¿…è¦)

- `POST /api/auth/login` - ãƒ­ã‚°ã‚¤ãƒ³
- `GET /api/auth/me` - ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±
- `GET /api/admin/faqs` - FAQä¸€è¦§å–å¾—
- `POST /api/admin/faqs` - FAQä½œæˆ
- `PUT /api/admin/faqs/{id}` - FAQæ›´æ–°
- `DELETE /api/admin/faqs/{id}` - FAQå‰Šé™¤
- `GET /api/admin/documents` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§å–å¾—
- `POST /api/admin/documents` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- `PUT /api/admin/documents/{id}` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°
- `DELETE /api/admin/documents/{id}` - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‰Šé™¤
- `GET /api/admin/chat-history` - ãƒãƒ£ãƒƒãƒˆå±¥æ­´å–å¾—

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

**Q: ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆãŒå¿œç­”ã—ãªã„**
- Anthropic APIã‚­ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

**Q: ç®¡ç†ç”»é¢ã«ãƒ­ã‚°ã‚¤ãƒ³ã§ããªã„**
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ã„ã‹ç¢ºèª

**Q: RAGæ¤œç´¢ãŒæ©Ÿèƒ½ã—ãªã„**
- ChromaDBã®ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒæ›¸ãè¾¼ã¿å¯èƒ½ã‹ç¢ºèª
- FAQã‚„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ­£ã—ãä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

Copyright Â© 2026 æ ªå¼ä¼šç¤¾ã‚«ãƒ³ãƒãƒ³

## ãŠå•ã„åˆã‚ã›

æ ªå¼ä¼šç¤¾ã‚«ãƒ³ãƒãƒ³
- é›»è©±: 088-611-2333
- å–¶æ¥­æ™‚é–“: å¹³æ—¥ 9:30ï½18:00
- Webã‚µã‚¤ãƒˆ: https://comman.co.jp/
